<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Thoughts Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --rose-pink: #f4c2c2;
            --lavender: #d4b5e8;
            --sage-green: #b8d4b8;
            --cream: #fef9f3;
            --sky-blue: #c2d9f0;
            --peach: #fad4c0;
            --mint: #b8e6d5;
            --lemon: #fef5c7;
            --coral: #fab6b6;
            --periwinkle: #d4c5f9;
            --text-dark: #2d3748;
            --text-light: #718096;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            font-style: italic;
            background: linear-gradient(135deg, var(--cream) 0%, #fff5f0 100%);
            min-height: 100vh;
        }

        .navbar {
            background: white;
            padding: 20px 40px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar h1 {
            font-size: 32px;
            color: var(--text-dark);
            font-weight: 600;
            font-family: 'Georgia', 'Times New Roman', serif;
            font-style: italic;
        }

        .navbar-info {
            color: var(--text-light);
            font-size: 14px;
        }

        .container {
            display: flex;
            height: calc(100vh - 80px);
        }

        .sidebar {
            width: 280px;
            background: white;
            padding: 30px 20px;
            box-shadow: 2px 0 8px rgba(0,0,0,0.05);
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 30px;
        }

        .sidebar-title {
            font-size: 12px;
            text-transform: uppercase;
            color: var(--text-light);
            font-weight: 600;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .category-item {
            padding: 12px 16px;
            margin-bottom: 8px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-dark);
            position: relative;
        }

        .category-item:hover {
            transform: translateX(5px);
        }

        .category-item.active {
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .count-badge {
            background: rgba(255,255,255,0.7);
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .add-category-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, var(--lavender), var(--rose-pink));
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .add-category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .delete-category-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            margin-left: 8px;
        }

        .category-item:hover .delete-category-btn {
            opacity: 1;
        }

        .main-content {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .content-title {
            font-size: 32px;
            color: var(--text-dark);
            font-weight: 600;
        }

        .add-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--lavender), var(--rose-pink));
            border: none;
            font-size: 32px;
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s;
        }

        .add-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .article-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            border-left: 4px solid;
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .article-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 12px;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            color: var(--text-light);
        }

        .article-category {
            padding: 4px 12px;
            border-radius: 12px;
            font-weight: 500;
        }

        .delete-icon {
            position: absolute;
            top: 12px;
            right: 12px;
            background: #ff6b6b;
            color: white;
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .article-card:hover .delete-icon {
            opacity: 1;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            padding: 40px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-title {
            font-size: 28px;
            color: var(--text-dark);
            margin-bottom: 30px;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 14px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--lavender);
        }

        textarea.form-input {
            min-height: 150px;
            resize: vertical;
        }

        .category-select {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            max-height: 300px;
            overflow-y: auto;
        }

        .category-option {
            padding: 16px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            font-weight: 500;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .category-option:hover {
            transform: scale(1.05);
        }

        .category-option.selected {
            border-color: var(--text-dark);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .color-picker-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .color-option {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.selected {
            border-color: var(--text-dark);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--lavender), var(--rose-pink));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: var(--text-dark);
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .empty-state {
            text-align: center;
            padding: 80px 20px;
            color: var(--text-light);
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .articles-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="navbar">
        <h1 id="navTitle">Things to be said</h1>
        <div class="navbar-info">
            <span id="articleCount">0 articles</span>
        </div>
    </div>

    <div class="container">
        <div class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Categories</div>
                <div id="categoriesList"></div>
                <button class="add-category-btn" onclick="openCategoryModal()">+ Add Category</button>
            </div>
        </div>

        <div class="main-content">
            <div class="content-header">
                <h2 class="content-title" id="contentTitle">All Articles</h2>
                <button class="add-button" onclick="openModal()">+</button>
            </div>
            <div class="articles-grid" id="articlesContainer"></div>
        </div>
    </div>

    <!-- Article Modal -->
    <div class="modal" id="articleModal">
        <div class="modal-content">
            <h2 class="modal-title">Create New Article</h2>
            <div class="form-group">
                <label class="form-label">Title</label>
                <input type="text" class="form-input" id="titleInput" placeholder="Enter article title...">
            </div>
            
            <div class="form-group">
                <label class="form-label">Content</label>
                <textarea class="form-input" id="contentInput" placeholder="Write your thoughts..."></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">Category</label>
                <div class="category-select" id="categorySelectContainer"></div>
            </div>
            
            <div class="modal-buttons">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="saveArticle()">Save Article</button>
            </div>
        </div>
    </div>

    <!-- Category Modal -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <h2 class="modal-title">Add New Category</h2>
            <div class="form-group">
                <label class="form-label">Category Name</label>
                <input type="text" class="form-input" id="categoryNameInput" placeholder="e.g., Work, Travel, Food...">
            </div>
            
            <div class="form-group">
                <label class="form-label">Choose Color</label>
                <div class="color-picker-grid" id="colorPicker"></div>
            </div>
            
            <div class="modal-buttons">
                <button type="button" class="btn btn-secondary" onclick="closeCategoryModal()">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="saveCategory()">Add Category</button>
            </div>
        </div>
    </div>

    <script>
        let articles = [];
        let categories = [
            { id: 'all', name: 'All Articles', color: '#b8d4b8', default: true },
            { id: 'life', name: 'Life', color: '#f4c2c2', default: true },
            { id: 'tech', name: 'Tech', color: '#c2d9f0', default: true },
            { id: 'movie', name: 'Movie', color: '#d4b5e8', default: true },
            { id: 'song', name: 'Song', color: '#fad4c0', default: true }
        ];
        
        const availableColors = [
            '#f4c2c2', '#d4b5e8', '#b8d4b8', '#c2d9f0', '#fad4c0',
            '#b8e6d5', '#fef5c7', '#fab6b6', '#d4c5f9', '#f9d5e5'
        ];
        
        let selectedCategory = 'life';
        let selectedColor = availableColors[0];
        let currentFilter = 'all';

        function loadData() {
            const savedArticles = localStorage.getItem('articles');
            const savedCategories = localStorage.getItem('categories');
            
            if (savedArticles) articles = JSON.parse(savedArticles);
            if (savedCategories) categories = JSON.parse(savedCategories);
            
            renderCategories();
            renderCategorySelect();
            renderArticles();
            updateCounts();
        }

        function saveData() {
            localStorage.setItem('articles', JSON.stringify(articles));
            localStorage.setItem('categories', JSON.stringify(categories));
        }

        function renderCategories() {
            const container = document.getElementById('categoriesList');
            container.innerHTML = categories.map(cat => `
                <div class="category-item ${currentFilter === cat.id ? 'active' : ''}" 
                     style="background: ${cat.color}" 
                     onclick="filterCategory('${cat.id}')">
                    <span>${cat.name}</span>
                    <div style="display: flex; align-items: center;">
                        <span class="count-badge" id="count-${cat.id}">0</span>
                        ${!cat.default ? `<button class="delete-category-btn" onclick="event.stopPropagation(); deleteCategory('${cat.id}')">√ó</button>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function renderCategorySelect() {
            const container = document.getElementById('categorySelectContainer');
            const nonAllCategories = categories.filter(c => c.id !== 'all');
            container.innerHTML = nonAllCategories.map(cat => `
                <div class="category-option ${selectedCategory === cat.id ? 'selected' : ''}" 
                     style="background: ${cat.color}"
                     onclick="selectCategory('${cat.id}')">
                    ${cat.name}
                </div>
            `).join('');
        }

        function openCategoryModal() {
            document.getElementById('categoryModal').classList.add('active');
            renderColorPicker();
            document.getElementById('categoryNameInput').focus();
        }

        function closeCategoryModal() {
            document.getElementById('categoryModal').classList.remove('active');
            document.getElementById('categoryNameInput').value = '';
            selectedColor = availableColors[0];
        }

        function renderColorPicker() {
            const container = document.getElementById('colorPicker');
            container.innerHTML = availableColors.map(color => `
                <div class="color-option ${selectedColor === color ? 'selected' : ''}" 
                     style="background: ${color}"
                     onclick="selectColor('${color}')">
                </div>
            `).join('');
        }

        function selectColor(color) {
            selectedColor = color;
            renderColorPicker();
        }

        function saveCategory() {
            const name = document.getElementById('categoryNameInput').value.trim();
            
            if (!name) {
                alert('Please enter a category name');
                return;
            }
            
            const id = name.toLowerCase().replace(/\s+/g, '-');
            
            if (categories.find(c => c.id === id)) {
                alert('Category already exists');
                return;
            }
            
            categories.push({
                id: id,
                name: name,
                color: selectedColor,
                default: false
            });
            
            saveData();
            renderCategories();
            renderCategorySelect();
            updateCounts();
            closeCategoryModal();
        }

        function deleteCategory(id) {
            if (confirm('Delete this category? Articles in this category will not be deleted.')) {
                categories = categories.filter(c => c.id !== id);
                saveData();
                renderCategories();
                renderCategorySelect();
                updateCounts();
                
                if (currentFilter === id) {
                    filterCategory('all');
                }
            }
        }

        function openModal() {
            document.getElementById('articleModal').classList.add('active');
            renderCategorySelect();
            document.getElementById('titleInput').focus();
        }

        function closeModal() {
            document.getElementById('articleModal').classList.remove('active');
            document.getElementById('titleInput').value = '';
            document.getElementById('contentInput').value = '';
            selectedCategory = categories.find(c => c.id !== 'all').id;
        }

        function selectCategory(catId) {
            selectedCategory = catId;
            renderCategorySelect();
        }

        function saveArticle() {
            const titleValue = document.getElementById('titleInput').value.trim();
            const contentValue = document.getElementById('contentInput').value.trim();
            
            if (!titleValue || !contentValue) {
                alert('Please fill in both title and content');
                return;
            }
            
            const article = {
                id: Date.now(),
                title: titleValue,
                content: contentValue,
                category: selectedCategory,
                date: new Date().toLocaleDateString('en-US', { 
                    month: 'short', 
                    day: 'numeric',
                    year: 'numeric'
                })
            };
            
            articles.unshift(article);
            saveData();
            renderArticles();
            updateCounts();
            closeModal();
        }

        function filterCategory(catId) {
            currentFilter = catId;
            renderCategories();
            
            const category = categories.find(c => c.id === catId);
            document.getElementById('contentTitle').textContent = category.name;
            
            renderArticles();
        }

        function deleteArticle(id) {
            if (confirm('Delete this article?')) {
                articles = articles.filter(a => a.id !== id);
                saveData();
                renderArticles();
                updateCounts();
            }
        }

        function renderArticles() {
            const container = document.getElementById('articlesContainer');
            const filtered = currentFilter === 'all' 
                ? articles 
                : articles.filter(a => a.category === currentFilter);
            
            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üìù</div>
                        <h3>No articles yet</h3>
                        <p>Click the + button to create your first article</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = filtered.map(article => {
                const category = categories.find(c => c.id === article.category);
                const color = category ? category.color : '#b8d4b8';
                
                return `
                    <div class="article-card" style="border-left-color: ${color}">
                        <button class="delete-icon" onclick="deleteArticle(${article.id})">√ó</button>
                        <div class="article-title">${escapeHtml(article.title)}</div>
                        <div class="article-meta">
                            <span class="article-category" style="background: ${color}">${category ? category.name : article.category}</span>
                            <span>${article.date}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateCounts() {
            categories.forEach(cat => {
                const count = cat.id === 'all' 
                    ? articles.length 
                    : articles.filter(a => a.category === cat.id).length;
                    
                const badge = document.getElementById(`count-${cat.id}`);
                if (badge) badge.textContent = count;
            });
            
            document.getElementById('articleCount').textContent = 
                `${articles.length} article${articles.length !== 1 ? 's' : ''}`;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        loadData();
    </script>
</body>
</html>
